{"ast":null,"code":"import _slicedToArray from\"C:/Users/adeeb/Desktop/CodingDojo/Projects/ExteriorMernProject/MERN-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate,Link,useParams}from'react-router-dom';import axios from'axios';import\"../views/style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewListing=function NewListing(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"https://i.pinimg.com/736x/30/35/71/303571ceb8ab676185ecfb272eb7b8c5.jpg\"),_useState6=_slicedToArray(_useState5,2),photo_url=_useState6[0],setPhoto_URL=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loaded=_useState8[0],setLoaded=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErrors=_useState10[1];var _useParams=useParams(),ownerid=_useParams.ownerid;var owner=ownerid;var navigate=useNavigate();var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();axios.post('http://localhost:8000/api/listings',{owner:owner,address:address,photo_url:photo_url,description:description}).then(function(res){console.log(res);navigate(\"/owner/\"+ownerid);}).catch(function(err){var errorResponse=err.response.data.errors;// Get the errors from err.response.data\nvar errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});alert(\"New Listing Created!\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topBar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftSide\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"stayHome\",children:\"StayHome\"})}),/*#__PURE__*/_jsx(Link,{type:\"button\",class:\"btn btn-primary goBack\",to:\"/owner/\"+ownerid,children:\"Go Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newListing\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a New Listing:\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:onSubmitHandler,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setAddress(e.target.value);},value:address})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setDescription(e.target.value);},value:description})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Photo URL: (Change Default URL Below)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){setPhoto_URL(e.target.value);setLoaded(true);},value:photo_url})]})]}),/*#__PURE__*/_jsx(\"input\",{className:\"submit\",class:\"btn btn-primary\",type:\"submit\",value:\"Create Listing\"}),errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:err},index);})]})})]}),loaded&&/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(photo_url),width:\"350\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"botBar\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://1000logos.net/wp-content/uploads/2021/10/logo-Meta.png\",width:\"50\",height:\"30\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://th.bing.com/th/id/R.0b96193508a806746ea68f0e1c0c0694?rik=Fi4%2froOKPymHLg&riu=http%3a%2f%2ffc00.deviantart.net%2ffs71%2ff%2f2014%2f031%2fc%2fd%2ftwitter_logo_vector_by_oguzhanbahardesign-d74i1sd.png&ehk=lLaZa%2fIDkISChl24W9Ek2d5nRmjQLJR3vzsW%2bXG4Umw%3d&risl=&pid=ImgRaw&r=0\",width:\"40\",height:\"30\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://www.freelogovectors.net/wp-content/uploads/2016/12/instagram-logo1.png\",width:\"40\",height:\"40\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Contact Us\"})]})]});};export default NewListing;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","useParams","axios","jsx","_jsx","jsxs","_jsxs","NewListing","props","_useState","_useState2","_slicedToArray","address","setAddress","_useState3","_useState4","description","setDescription","_useState5","_useState6","photo_url","setPhoto_URL","_useState7","_useState8","loaded","setLoaded","_useState9","_useState10","errors","setErrors","_useParams","ownerid","owner","navigate","onSubmitHandler","e","preventDefault","post","then","res","console","log","catch","err","errorResponse","response","data","errorArr","_i","_Object$keys","Object","keys","length","key","push","message","alert","children","className","to","type","class","onSubmit","onChange","target","value","map","index","style","color","src","concat","width","height"],"sources":["C:/Users/adeeb/Desktop/CodingDojo/Projects/ExteriorMernProject/MERN-Project/client/src/views/NewListing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {useNavigate,Link,useParams} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"../views/style.css\"\r\n\r\nconst NewListing = (props) =>{\r\n    const [address,setAddress] = useState(\"\");\r\n    const [description,setDescription] = useState(\"\");\r\n    const [photo_url, setPhoto_URL] = useState(\"https://i.pinimg.com/736x/30/35/71/303571ceb8ab676185ecfb272eb7b8c5.jpg\");\r\n    const [loaded,setLoaded] = useState(true);\r\n    const [errors,setErrors] = useState([]);\r\n\r\n    const {ownerid} = useParams();\r\n    const owner = ownerid\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const onSubmitHandler = e =>{\r\n        e.preventDefault();\r\n        axios.post('http://localhost:8000/api/listings', {\r\n            owner,\r\n            address,\r\n            photo_url,\r\n            description,\r\n            \r\n        })\r\n        .then(res=>{\r\n            console.log(res);\r\n            navigate(\"/owner/\"+ownerid)\r\n\r\n        })\r\n        .catch(err=>{const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n        const errorArr = []; // Define a temp error array to push the messages in\r\n        for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n            errorArr.push(errorResponse[key].message)\r\n        }\r\n        // Set Errors\r\n        setErrors(errorArr);\r\n        })\r\n        alert(\"New Listing Created!\")\r\n    }\r\n    return (\r\n        <div>\r\n            <div className='topBar'>\r\n                <div className=\"leftSide\">\r\n                    <Link to ={\"/\"} className=\"stayHome\">StayHome</Link>\r\n                </div>\r\n                <Link type=\"button\" class=\"btn btn-primary goBack\" to={\"/owner/\"+ownerid}>Go Back</Link>\r\n            </div>\r\n            <div className=\"newListing\">\r\n                <div>\r\n                    <h1>Create a New Listing:</h1>\r\n                    <form onSubmit={onSubmitHandler}>\r\n                        <div>\r\n                            <div>\r\n                                    <p>\r\n                                        <label >Address:</label><br/>\r\n                                        <input className=\"text\" type=\"text\" onChange={(e)=>setAddress(e.target.value)} value={address}/>\r\n                                    </p>\r\n                                    <p>\r\n                                        <label>Description:</label><br/>\r\n                                        <input className=\"text\" type=\"text\" onChange={(e)=>setDescription(e.target.value)} value={description}/>\r\n                                    </p>\r\n                                    <p>\r\n                                        <label>Photo URL: (Change Default URL Below)</label><br/>\r\n                                        <input className=\"text\" type=\"text\" onChange={(e)=>{\r\n                                            setPhoto_URL(e.target.value)\r\n                                            setLoaded(true)\r\n                                        }} value={photo_url}/>\r\n                                    </p>\r\n                                    \r\n                                \r\n                            </div>\r\n                            <input className = \"submit\" class=\"btn btn-primary\" type=\"submit\" value=\"Create Listing\"/>\r\n                            {errors.map((err, index) => <p style = {{color:'red'}}key={index}>{err}</p>)}\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                {loaded && <img src={`${photo_url}`} width=\"350\"/>}\r\n            </div>\r\n            <div className=\"botBar\">\r\n                <img src=\"https://1000logos.net/wp-content/uploads/2021/10/logo-Meta.png\" width=\"50\" height=\"30\"/>\r\n                <img src=\"https://th.bing.com/th/id/R.0b96193508a806746ea68f0e1c0c0694?rik=Fi4%2froOKPymHLg&riu=http%3a%2f%2ffc00.deviantart.net%2ffs71%2ff%2f2014%2f031%2fc%2fd%2ftwitter_logo_vector_by_oguzhanbahardesign-d74i1sd.png&ehk=lLaZa%2fIDkISChl24W9Ek2d5nRmjQLJR3vzsW%2bXG4Umw%3d&risl=&pid=ImgRaw&r=0\" width=\"40\" height=\"30\"/>\r\n                <img src=\"https://www.freelogovectors.net/wp-content/uploads/2016/12/instagram-logo1.png\" width=\"40\" height=\"40\"/>\r\n                <h3>Contact Us</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewListing"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}